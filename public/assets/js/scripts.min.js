(()=>{var u=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var m=u(()=>{window.location.pathname==="/register"&&document.addEventListener("DOMContentLoaded",()=>{document.getElementsByTagName("form")[0].addEventListener("submit",t=>{h(t)})});var h=t=>{t.preventDefault();let n=document.querySelector("input[name='username']").value,e=document.querySelector("input[name='email']").value,a=document.querySelector("input[name='password']").value,o=document.querySelector("input[name='password-repeat']").value,r=document.querySelector("input[name='agreed-to-terms']").value;if(!n||!e||!a||!o||!r){i("alert","Please fill out all fields.");return}let c={username:n,email:e,password:a,passwordRepeat:o,agreedToTerms:r};alert("YOU MADE IT"),console.log(c),fetch("/common/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(s=>{if(!s.ok)throw new Error("Network response was not ok");return s.json()}).then(s=>{s.message==="login_successful"&&(i("success","Login successful!"),document.querySelector("input[name='username']").value="",document.querySelector("input[name='email']").value="",document.querySelector("input[name='password']").value="",document.querySelector("input[name='password-repeat']").value="",document.querySelector("input[name='agreed-to-terms']").value="")}).catch(s=>{console.error("There was a problem with the fetch operation:",s)})},i=(t,n)=>{let e=document.getElementById("user-feedback");e.classList.add(t),e.innerHTML=n,setTimeout(()=>{e.classList.remove(t),e.innerHTML=""},2e3)}});var d=u(()=>{window.location.pathname==="/login"&&document.addEventListener("DOMContentLoaded",()=>{document.getElementsByTagName("form")[0].addEventListener("submit",t=>{f(t)})});var f=t=>{t.preventDefault();let n=document.querySelector("input[name='username']").value,e=document.querySelector("input[name='password']").value;if(!n||!e){l("alert","Please fill out all fields.");return}fetch("/common/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e})}).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{o.message==="login_successful"&&(l("success","Login successful!"),document.querySelector("input[name='username']").value="",document.querySelector("input[name='password']").value="")}).catch(o=>{console.error("There was a problem with the fetch operation:",o)})},l=(t,n)=>{let e=document.getElementById("user-feedback");e.classList.add(t),e.innerHTML=n,setTimeout(()=>{e.classList.remove(t),e.innerHTML=""},2e3)}});var p=u(()=>{window.location.pathname==="/newsletter"&&document.addEventListener("DOMContentLoaded",()=>{document.getElementsByTagName("form")[0].addEventListener("submit",t=>{g(t)})});var g=t=>{t.preventDefault();let n=document.querySelector("input[name='subscribername']").value,e=document.querySelector("input[name='email']").value,a=document.querySelector("input[name='agreed-to-subscribtion']").value;if(!n||!e){showLoginMessage("alert","Please enter a name and an e-mail address.");return}let o={subscribername:n,email:e,agreedToSubscribtion:a};console.log(o),fetch("/common/v1/subscribers/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.json()}).then(r=>{r.message==="user_successfully_subscribed"&&(w("success","Subscribtion successful!"),document.querySelector("input[name='subscribername']").value="",document.querySelector("input[name='email']").value="")}).catch(r=>{console.error("There was a problem with the fetch operation:",r)})},w=(t,n)=>{let e=document.getElementById("user-feedback");e.classList.add(t),e.innerHTML=n,setTimeout(()=>{e.classList.remove(t),e.innerHTML=""},2e3)}});m();d();p();})();
